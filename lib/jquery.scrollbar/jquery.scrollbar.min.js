/**
 * jQuery CSS Customizable Scrollbar
 *
 * Copyright 2015, Yuriy Khabarov
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * If you found bug, please contact me via email <13real008@gmail.com>
 *
 * Compressed by http://jscompress.com/
 *
 * @author Yuriy Khabarov aka Gromo
 * @version 0.3.0 beta
 * @url https://github.com/gromo/jquery.scrollbar/
 *
 */
!function(l,s){"function"==typeof define&&define.amd?define(["jquery"],s):s(l.jQuery)}(this,function(l){"use strict";function s(l){var s=l.originalEvent;return s.axis&&s.axis===s.HORIZONTAL_AXIS?!1:s.wheelDeltaX?!1:!0}var e={data:{index:0,name:"scrollbar",updateTimer:0},isWebkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent),isMac:/mac/i.test(navigator.platform),isMobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),isOverlay:null,scroll:null,scrolls:[]};e.scrolls.add=function(l){this.remove(l).push(l)},e.scrolls.remove=function(s){for(;l.inArray(s,this)>=0;)this.splice(l.inArray(s,this),1);return this},e.scrolls.update=function(l){for(var s=0;s<e.scrolls.length;s++)e.scrolls[s].update(l);clearTimeout(e.data.updateTimer),e.data.updateTimer=setTimeout(e.scrolls.update,300)};var o={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!1,ignoreOverlay:!1,scrollStep:30,showArrows:!1,stepScrolling:!0,scrollx:null,scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null},t=function(s){e.scroll||(e.scroll=this._getBrowserScrollSize(),e.isOverlay=0===e.scroll.height&&0===e.scroll.width,e.scrolls.update()),this.container=s,this.dimensions={},this.isRtl="rtl"===s.css("direction"),this.namespace=".scrollbar_"+e.data.index++,this.options=l.extend({},o,window.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},s.data(e.data.name,this),e.scrolls.add(this)};t.prototype={destroy:function(){if(this.wrapper){this.container.removeData(e.data.name),e.scrolls.remove(this);var s={left:this.container.scrollLeft(),top:this.container.scrollTop()};this.container.insertBefore(this.wrapper).css({height:"",margin:"","max-height":""}).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(s.left).scrollTop(s.top),this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").andSelf().off(this.namespace),this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").andSelf().off(this.namespace),this.wrapper.remove(),l(document).add("body").off(this.namespace),l.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},init:function(o){var t=this,i=this.container,r=this.containerWrapper||i,n=this.namespace,a=l.extend(this.options,o||{}),c={x:this.scrollx,y:this.scrolly},d=this.wrapper,h={scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop()};if(e.isMobile&&a.ignoreMobile||e.isOverlay&&a.ignoreOverlay||e.isMac&&!e.isWebkit)return!1;if(!d){if(this.wrapper=d=l("<div>").addClass("scroll-wrapper").addClass(i.attr("class")).css("position","absolute"==i.css("position")?"absolute":"relative").insertBefore(i).append(i),i.is("textarea")&&(this.containerWrapper=r=l("<div>").insertBefore(i).append(i),d.addClass("scroll-textarea")),r.addClass("scroll-content"),i.on("scroll"+n,l.proxy(function(){l.isFunction(this.options.onScroll)&&this.options.onScroll.call(this,{scroll:this.container.scrollTop(),size:this.dimensions.scrollHeight,visible:this.dimensions.visibleHeight},{scroll:this.container.scrollLeft(),size:this.dimensions.scrollWidth,visible:this.dimensions.visibleWidth}),this.scrollx.isVisible&&this.scrollx.scroll.bar.css("left",i.scrollLeft()*this.scrollx.kx+"px"),this.scrolly.isVisible&&this.scrolly.scroll.bar.css("top",i.scrollTop()*this.scrolly.kx+"px")},this)),d.on("scroll"+n,function(){d.scrollTop(0).scrollLeft(0)}),a.disableBodyScroll){var p=function(l){s(l)?c.y.isVisible&&c.y.mousewheel(l):c.x.isVisible&&c.x.mousewheel(l)};d.on("MozMousePixelScroll"+n,p),d.on("mousewheel"+n,p),e.isMobile&&d.on("touchstart"+n,function(s){var e=s.originalEvent.touches&&s.originalEvent.touches[0]||s,o={pageX:e.pageX,pageY:e.pageY},t={left:i.scrollLeft(),top:i.scrollTop()};l(document).on("touchmove"+n,function(l){var s=l.originalEvent.targetTouches&&l.originalEvent.targetTouches[0]||l;i.scrollLeft(t.left+o.pageX-s.pageX),i.scrollTop(t.top+o.pageY-s.pageY),l.preventDefault()}),l(document).on("touchend"+n,function(){l(document).off(n)})})}l.isFunction(a.onInit)&&a.onInit.apply(this,[i])}r.css({height:"auto","margin-bottom":-1*e.scroll.height+"px","margin-right":-1*e.scroll.width+"px","max-height":""}),l.each(c,function(e,o){var r=null,d=1,h="x"===e?"scrollLeft":"scrollTop",p=a.scrollStep,u=function(){var l=i[h]();i[h](l+p),1==d&&l+p>=f&&(l=i[h]()),-1==d&&f>=l+p&&(l=i[h]()),i[h]()==l&&r&&r()},f=0;o.scroll||(o.scroll=t._getScroll(a["scroll"+e]).addClass("scroll-"+e),a.showArrows&&o.scroll.addClass("scroll-element_arrows_visible"),o.mousewheel=function(l){if(!o.isVisible||"x"===e&&s(l))return!0;if("y"===e&&!s(l))return c.x.mousewheel(l),!0;var r=-1*l.originalEvent.wheelDelta||l.originalEvent.detail,n=o.size-o.visible-o.offset;return(r>0&&n>f||0>r&&f>0)&&(f+=r,0>f&&(f=0),f>n&&(f=n),t.scrollTo=t.scrollTo||{},t.scrollTo[h]=f,setTimeout(function(){t.scrollTo&&(i.stop().animate(t.scrollTo,240,"linear",function(){f=i[h]()}),t.scrollTo=null)},1)),l.preventDefault(),!1},o.scroll.on("MozMousePixelScroll"+n,o.mousewheel).on("mousewheel"+n,o.mousewheel).on("mouseenter"+n,function(){f=i[h]()}),o.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown"+n,function(s){if(1!=s.which)return!0;d=1;var n={eventOffset:s["x"===e?"pageX":"pageY"],maxScrollValue:o.size-o.visible-o.offset,scrollbarOffset:o.scroll.bar.offset()["x"===e?"left":"top"],scrollbarSize:o.scroll.bar["x"===e?"outerWidth":"outerHeight"]()},c=0,v=0;return l(this).hasClass("scroll-arrow")?(d=l(this).hasClass("scroll-arrow_more")?1:-1,p=a.scrollStep*d,f=d>0?n.maxScrollValue:0):(d=n.eventOffset>n.scrollbarOffset+n.scrollbarSize?1:n.eventOffset<n.scrollbarOffset?-1:0,p=Math.round(.75*o.visible)*d,f=n.eventOffset-n.scrollbarOffset-(a.stepScrolling?1==d?n.scrollbarSize:0:Math.round(n.scrollbarSize/2)),f=i[h]()+f/o.kx),t.scrollTo=t.scrollTo||{},t.scrollTo[h]=a.stepScrolling?i[h]()+p:f,a.stepScrolling&&(r=function(){f=i[h](),clearInterval(v),clearTimeout(c),c=0,v=0},c=setTimeout(function(){v=setInterval(u,40)},a.duration+100)),setTimeout(function(){t.scrollTo&&(i.animate(t.scrollTo,a.duration),t.scrollTo=null)},1),t._handleMouseDown(r,s)}),o.scroll.bar.on("mousedown"+n,function(s){if(1!=s.which)return!0;var r=s["x"===e?"pageX":"pageY"],a=i[h]();return o.scroll.addClass("scroll-draggable"),l(document).on("mousemove"+n,function(l){var s=parseInt((l["x"===e?"pageX":"pageY"]-r)/o.kx,10);i[h](a+s)}),t._handleMouseDown(function(){o.scroll.removeClass("scroll-draggable"),f=i[h]()},s)}))}),r.add(this.scrollx.scroll).add(this.scrolly.scroll).removeClass("scroll-scrollx_visible scroll-scrolly_visible"),this.dimensions=this._getDimensions(),this._updateScroll("x",this.scrollx),this._updateScroll("y",this.scrolly),l.isFunction(a.onUpdate)&&a.onUpdate.apply(this,[i]),this._updateScrollSize("x",this.scrollx),this._updateScrollSize("y",this.scrolly),i.scrollLeft(h.scrollLeft).scrollTop(h.scrollTop).trigger("scroll")},update:function(l){(l||this.options.autoUpdate&&this.wrapper&&this.wrapper.is(":visible")&&this._isChanged())&&this.init()},_getBrowserScrollSize:function(){return e.data.outer||(e.data.outer=l("<div>").prependTo("body").attr("style","border:none;margin:0;padding:0;height:100px;width:100px;position:absolute;overflow:scroll;left:-1000px;top:-1000px;"),e.data.inner=l("<div>").appendTo(e.data.outer).attr("style","border:none;margin:0;padding:0;height:100%;width:100%;position:absolute;")),{height:e.data.outer.height()-e.data.inner.height(),width:e.data.outer.width()-e.data.inner.width()}},_getDimensions:function(){var l=this.container,s=this.wrapper;return{scrollHeight:l.prop("scrollHeight"),scrollWidth:l.prop("scrollWidth"),visibleHeight:s.height()+(parseInt(l.css("top"),10)||0),visibleWidth:s.width()+(parseInt(l.css("left"),10)||0)}},_getScroll:function(s){var e={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>',"</div>","</div>",'<div class="scroll-bar">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>',"</div>",'<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>',"</div>","</div>","</div>"].join(""),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="scroll-bar"></div>',"</div>","</div>"].join("")};return e[s]&&(s=e[s]),s||(s=e.simple),s="string"==typeof s?l(s).appendTo(this.wrapper):l(s),l.extend(s,{bar:s.find(".scroll-bar"),size:s.find(".scroll-element_size"),track:s.find(".scroll-element_track")}),s},_handleMouseDown:function(s,e){var o=this.namespace;return l(document).on("blur"+o,function(){l(document).add("body").off(o),s&&s()}),l(document).on("dragstart"+o,function(l){return l.preventDefault(),!1}),l(document).on("mouseup"+o,function(){l(document).add("body").off(o),s&&s()}),l("body").on("selectstart"+o,function(l){return l.preventDefault(),!1}),e&&e.preventDefault(),!1},_isChanged:function(){var s=!1,e=this._getDimensions(),o=this.dimensions;return l.each(e,function(l,e){return o[l]!==e?(s=!0,!1):void 0}),this.dimensions=e,s&&this.options.debug&&window.console&&console.log(this.dimensions),s},_updateScroll:function(l,s){var o=this.container,t=this.containerWrapper||o,i="scroll-scroll"+l+"_visible",r="x"===l?this.scrolly:this.scrollx,n=(this.wrapper,this.dimensions["x"===l?"scrollWidth":"scrollHeight"]),a=this.dimensions["x"===l?"visibleWidth":"visibleHeight"];s.isVisible=n-a>1,t.add(s.scroll).add(r.scroll)[s.isVisible?"addClass":"removeClass"](i),"y"===l&&t.css(o.is("textarea")||a>n?{height:a+e.scroll.height+"px","max-height":"none"}:{"max-height":a+e.scroll.height+"px"}),this._isChanged()&&this._updateScroll("x"===l?"y":"x",r)},_updateScrollSize:function(l,s){var e="x"===l?"left":"top",o="x"===l?"outerWidth":"outerHeight",t="x"===l?"width":"height",i=this.dimensions["x"===l?"scrollWidth":"scrollHeight"],r=this.dimensions["x"===l?"visibleWidth":"visibleHeight"],n=s.scroll.size[o]()+(parseInt(s.scroll.size.css(e),10)||0);this.options.autoScrollSize&&(s.scrollbarSize=parseInt(n*r/i,10),s.scroll.bar.css(t,s.scrollbarSize+"px")),s.scrollbarSize=s.scroll.bar[o](),s.kx=(n-s.scrollbarSize)/(i-r)||1}};var i=function(){e.scroll||l(window).resize(l.proxy(function(){var l=!1;if(e.scroll&&!e.isOverlay){var s=this._getBrowserScrollSize();(s.height!==e.scroll.height||s.width!==e.scroll.width)&&(e.scroll=s,l=!0)}e.scrolls.update(l)},this)),t.apply(this,arguments)};i.prototype=l.extend({},t.prototype,{});var r=function(){i.apply(this,arguments)};r.prototype=l.extend({},i.prototype,{});var n=function(){i.apply(this,arguments)};n.prototype=l.extend({},i.prototype,{});var a=function(){t.apply(this,arguments)};a.prototype=l.extend({},t.prototype,{});var c=i;switch(!0){case e.isFF:c=r;break;case e.isIE:c=n;break;case e.isWebkit:c=a}l.fn.scrollbar=function(s,o){return"string"!=typeof s&&(o=s,s="init"),"undefined"==typeof o&&(o=[]),l.isArray(o)||(o=[o]),this.not("body, .scroll-wrapper").each(function(){var t=l(this),i=t.data(e.data.name);(i||"init"===s)&&(i||(i=new c(t)),i[s]&&i[s].apply(i,o))}),this},l.fn.scrollbar.options=o,window.angular&&!function(l){l.module("jQueryScrollbar",[]).provider("jQueryScrollbar",function(){return{setOptions:function(s){l.extend(o,s)},$get:function(){return{options:l.copy(o)}}}}).directive("jqueryScrollbar",function(l,s){return{restrict:"AC",link:function(e,o,t){var i=s(t.jqueryScrollbar),r=i(e);o.scrollbar(r||l.options).on("$destroy",function(){o.scrollbar("destroy")})}}})}(window.angular)});